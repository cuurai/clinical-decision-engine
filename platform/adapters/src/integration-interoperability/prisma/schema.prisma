// Prisma schema for database models
// Generated by Adapter Generator v1.0.0
// Domain: integration-interoperability
//
// ⚠️  DO NOT EDIT THIS FILE MANUALLY
// This file is auto-generated. Any manual changes will be overwritten.

generator client {
  provider = "prisma-client-js"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum StatusEnum {
  active
  inactive
  suspended
}
enum CredentialtypeEnum {
  api_key
  oauth_client
  certificate
}
enum ProtocolEnum {
  fhir
  hl7
  rest
  soap
  other
}
enum FormatEnum {
  csv
  ndjson
  fhir_bulk
  other
}
enum SystemtypeEnum {
  ehr
  lis
  ris
  pms
  hie
  payer
  other
}
enum BundletypeEnum {
  document
  message
  transaction
  transaction_response
  batch
  batch_response
  history
  searchset
  collection
}
enum DirectionEnum {
  inbound
  outbound
}
enum JobtypeEnum {
  sync
  import
  export
  scheduled
  manual
}
enum LoglevelEnum {
  debug
  info
  warn
  error
}
enum ErrortypeEnum {
  message_level
  record_level
  validation
  connection
  other
}
enum EndpointtypeEnum {
  fhir
  hl7
  rest
  soap
  other
}
enum MetrictypeEnum {
  request_count
  error_count
  latency
  throttle_count
}

model APIClientInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  status StatusEnum @default(active)
  rateLimit Int
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model APIClientUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  status StatusEnum
  rateLimit Int
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model APICredentialInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  apiClientId String @db.Char(33) /// FK: References APIClient
  credentialType CredentialtypeEnum
  keyId String @db.Char(33)
  secret String
  expiresAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([keyId])
  @@index([apiClientId])
  // Relationship: apiClientId -> APIClient
}

model APICredentialUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  expiresAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ConnectionInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  name String
  description String
  baseUrl String
  protocol ProtocolEnum
  profile String
  credentials String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([externalSystemId])
  @@index([orgId, status])
  // Relationship: externalSystemId -> ExternalSystem
}

model ConnectionUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  baseUrl String
  credentials String
  status StatusEnum
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DataExportBatchInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  targetSystemId String @db.Char(33)
  format String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([targetSystemId])
  @@index([orgId, status])
}

model DataExportBatchUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  status StatusEnum
  filesGenerated Int
  completedAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DataImportBatchInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  format FormatEnum
  sourceUrl String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DataImportBatchUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  status StatusEnum
  recordsProcessed Int
  recordsFailed Int
  completedAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model Error {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  error String
  message String
  details String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model EventDeliveryInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  eventSubscriptionId String @db.Char(33) /// FK: References EventSubscription
  eventData String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([eventSubscriptionId])
  @@index([orgId, status])
  // Relationship: eventSubscriptionId -> EventSubscription
}

model EventDeliveryUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  deliveredAt DateTime
  retryCount Int
  errorMessage String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model EventSubscriptionInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  eventType String
  webhookUrl String
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  filters String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([externalSystemId])
  @@index([orgId, status])
  // Relationship: externalSystemId -> ExternalSystem
}

model EventSubscriptionUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  webhookUrl String
  filters String
  status StatusEnum
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ExportFile {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  dataExportBatchId String @db.Char(33) /// FK: References DataExportBatch
  fileName String
  fileUrl String
  fileSize Int
  recordCount Int
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([dataExportBatchId])
  // Relationship: dataExportBatchId -> DataExportBatch
}

model ExternalSystemInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  systemType SystemtypeEnum
  vendor String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ExternalSystemUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  vendor String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model FHIRBundleInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  bundleType BundletypeEnum
  resources String[]
  direction DirectionEnum @default(inbound)
  connectionId String @db.Char(33) /// FK: References Connection
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([connectionId])
  // Relationship: connectionId -> Connection
}

model FHIRMappingProfileInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  sourceProfile String
  targetProfile String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([externalSystemId])
  // Relationship: externalSystemId -> ExternalSystem
}

model FHIRMappingProfileUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  sourceProfile String
  targetProfile String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model HL7MappingProfileInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  messageType String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([externalSystemId])
  // Relationship: externalSystemId -> ExternalSystem
}

model HL7MappingProfileUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  messageType String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model HL7MessageInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  rawMessage String
  messageType String
  direction DirectionEnum @default(inbound)
  connectionId String @db.Char(33) /// FK: References Connection
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([connectionId])
  // Relationship: connectionId -> Connection
}

model HL7Segment {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  hl7MessageId String @db.Char(33) /// FK: References HL7Message
  segmentType String
  segmentData String
  order Int
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([hl7MessageId])
  // Relationship: hl7MessageId -> HL7Message
}

model ImportRecord {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  dataImportBatchId String @db.Char(33) /// FK: References DataImportBatch
  recordNumber Int
  recordData String
  status StatusEnum
  errorMessage String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([dataImportBatchId])
  @@index([orgId, status])
  // Relationship: dataImportBatchId -> DataImportBatch
}

model IntegrationJobInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  connectionId String @db.Char(33) /// FK: References Connection
  jobType JobtypeEnum
  schedule String
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([connectionId])
  @@index([externalSystemId])
  @@index([orgId, status])
  // Relationship: externalSystemId -> ExternalSystem
  // Relationship: connectionId -> Connection
}

model IntegrationJobUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  schedule String
  status StatusEnum
  lastRunAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model IntegrationLog {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  integrationRunId String @db.Char(33) /// FK: References IntegrationRun
  logLevel LoglevelEnum
  message String
  timestamp DateTime
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([integrationRunId])
  // Relationship: integrationRunId -> IntegrationRun
}

model IntegrationRunInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  integrationJobId String @db.Char(33) /// FK: References IntegrationJob
  status StatusEnum @default(active)
  startedAt DateTime
  recordsProcessed Int
  recordsTotal Int
  errorCount Int
  executionTime Float
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([integrationJobId])
  @@index([orgId, status])
  // Relationship: integrationJobId -> IntegrationJob
}

model InterfaceErrorInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  errorType ErrortypeEnum
  message String
  entityType String
  entityId String @db.Char(33)
  connectionId String @db.Char(33) /// FK: References Connection
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([connectionId])
  @@index([entityId])
  @@index([orgId, status])
  // Relationship: connectionId -> Connection
}

model InterfaceErrorUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  resolvedAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model InterfaceHealthCheckInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  connectionId String @db.Char(33) /// FK: References Connection
  status StatusEnum
  latency Float
  lastSuccessAt DateTime
  lastFailureAt DateTime
  availability Float
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([connectionId])
  @@index([orgId, status])
  // Relationship: connectionId -> Connection
}

model MappingResult {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  hl7MessageId String @db.Char(33) /// FK: References HL7Message
  mappingProfileId String @db.Char(33)
  result String
  success Boolean
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([mappingProfileId])
  @@index([hl7MessageId])
  // Relationship: hl7MessageId -> HL7Message
}

model MappingRule {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  mappingProfileId String @db.Char(33)
  sourcePath String
  targetPath String
  transformation String
  order Int
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([mappingProfileId])
}

model SystemEndpoint {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  externalSystemId String @db.Char(33) /// FK: References ExternalSystem
  endpointType EndpointtypeEnum
  url String
  description String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([externalSystemId])
  // Relationship: externalSystemId -> ExternalSystem
}

model Timestamps {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model UsageMetric {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  apiClientId String @db.Char(33) /// FK: References APIClient
  metricType MetrictypeEnum
  value Decimal
  period String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([apiClientId])
  // Relationship: apiClientId -> APIClient
}
