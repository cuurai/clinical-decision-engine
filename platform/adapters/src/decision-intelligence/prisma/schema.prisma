// Prisma schema for database models
// Generated by Adapter Generator v1.0.0
// Domain: decision-intelligence
//
// ⚠️  DO NOT EDIT THIS FILE MANUALLY
// This file is auto-generated. Any manual changes will be overwritten.

generator client {
  provider = "prisma-client-js"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
}

enum SeverityEnum {
  low
  medium
  high
  critical
}
enum StatusEnum {
  active
  snoozed
  overridden
  resolved
}
enum RequesttypeEnum {
  diagnostic
  treatment
  risk-assessment
  pathway-selection
}
enum PriorityEnum {
  low
  normal
  high
  urgent
}
enum ExperimenttypeEnum {
  ab
  multi-arm
}
enum ExplanationtypeEnum {
  feature-importance
  rule-trace
  evidence-summary
  model-reasoning
}
enum RecommendationtypeEnum {
  diagnostic
  treatment
  monitoring
  follow-up
  documentation
  other
}
enum RisktypeEnum {
  mortality
  readmission
  complication
  disease-progression
  other
}

model AlertEvaluationInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  patientId String @db.Char(33)
  decisionSessionId String @db.Char(33) /// FK: References DecisionSession
  clinicalRuleId String @db.Char(33)
  severity SeverityEnum
  fired Boolean @default(true)
  reasons String[]
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([clinicalRuleId])
  @@index([patientId])
  @@index([decisionSessionId])
  @@index([orgId, status])
  // Relationship: decisionSessionId -> DecisionSession
}

model AlertEvaluationUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  snoozedUntil DateTime
  overriddenBy String
  overriddenAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DecisionMetricSnapshotInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  decisionPolicyId String @db.Char(33) /// FK: References DecisionPolicy
  modelDefinitionId String @db.Char(33)
  snapshotDate DateTime
  metrics String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([decisionPolicyId])
  @@index([modelDefinitionId])
  // Relationship: decisionPolicyId -> DecisionPolicy
}

model DecisionPolicyInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  configuration String
  status StatusEnum @default(draft)
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DecisionPolicyUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  configuration String
  status StatusEnum
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DecisionRequestInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  decisionSessionId String @db.Char(33) /// FK: References DecisionSession
  patientId String @db.Char(33)
  requestType RequesttypeEnum
  context String
  priority PriorityEnum @default(normal)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([patientId])
  @@index([decisionSessionId])
  // Relationship: decisionSessionId -> DecisionSession
}

model DecisionResultInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  decisionRequestId String @db.Char(33) /// FK: References DecisionRequest
  decisionSessionId String @db.Char(33) /// FK: References DecisionSession
  status StatusEnum @default(pending)
  result String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([decisionSessionId])
  @@index([decisionRequestId])
  @@index([orgId, status])
  // Relationship: decisionRequestId -> DecisionRequest
  // Relationship: decisionSessionId -> DecisionSession
}

model DecisionResultUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  result String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model DecisionSessionInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  patientId String @db.Char(33)
  encounterId String @db.Char(33)
  status StatusEnum @default(active)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([patientId])
  @@index([encounterId])
  @@index([orgId, status])
}

model DecisionSessionUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  endedAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model Error {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  error String
  message String
  details String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ExperimentArm {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  experimentId String @db.Char(33) /// FK: References Experiment
  name String
  decisionPolicyId String @db.Char(33) /// FK: References DecisionPolicy
  modelVersionId String @db.Char(33)
  trafficPercentage Float
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelVersionId])
  @@index([decisionPolicyId])
  @@index([experimentId])
  // Relationship: experimentId -> Experiment
  // Relationship: decisionPolicyId -> DecisionPolicy
}

model ExperimentInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  experimentType ExperimenttypeEnum
  status StatusEnum @default(draft)
  startDate DateTime
  endDate DateTime
  trafficAllocation String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ExperimentResult {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  experimentId String @db.Char(33) /// FK: References Experiment
  armId String @db.Char(33)
  metrics String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([armId])
  @@index([experimentId])
  // Relationship: experimentId -> Experiment
}

model ExperimentUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  status StatusEnum
  endDate DateTime
  trafficAllocation String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ExplanationInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  explanationType ExplanationtypeEnum
  content String
  relatedEntityType String
  relatedEntityId String @db.Char(33)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([relatedEntityId])
}

model FeatureAttribution {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  explanationId String @db.Char(33) /// FK: References Explanation
  featureName String
  attribution Float
  contribution Float
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([explanationId])
  // Relationship: explanationId -> Explanation
}

model ModelInvocationInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  modelVersionId String @db.Char(33)
  patientId String @db.Char(33)
  inputs String
  outputs String
  performanceMetadata String
  executionTime Float
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelVersionId])
  @@index([patientId])
}

model RecommendationInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  decisionResultId String @db.Char(33) /// FK: References DecisionResult
  recommendationType RecommendationtypeEnum
  title String
  description String
  suggestion String
  status StatusEnum @default(pending)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([decisionResultId])
  @@index([orgId, status])
  // Relationship: decisionResultId -> DecisionResult
}

model RecommendationUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  status StatusEnum
  acceptedBy String
  acceptedAt DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model RiskAssessmentInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  patientId String @db.Char(33)
  decisionResultId String @db.Char(33) /// FK: References DecisionResult
  riskType RisktypeEnum
  score Float
  scoreRange String
  interpretation String
  factors String[]
  modelId String @db.Char(33)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelId])
  @@index([patientId])
  @@index([decisionResultId])
  // Relationship: decisionResultId -> DecisionResult
}

model RiskAssessmentUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  score Float
  interpretation String
  factors String[]
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model RuleTrace {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  explanationId String @db.Char(33) /// FK: References Explanation
  ruleId String @db.Char(33)
  ruleName String
  conditionMet Boolean
  actionExecuted String
  trace String[]
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([explanationId])
  @@index([ruleId])
  // Relationship: explanationId -> Explanation
}

model SimulationMetric {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  simulationRunId String @db.Char(33) /// FK: References SimulationRun
  metricName String
  metricValue Decimal
  metricType String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([simulationRunId])
  // Relationship: simulationRunId -> SimulationRun
}

model SimulationRunInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  simulationScenarioId String @db.Char(33) /// FK: References SimulationScenario
  status StatusEnum @default(running)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([simulationScenarioId])
  @@index([orgId, status])
  // Relationship: simulationScenarioId -> SimulationScenario
}

model SimulationScenarioInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  scenarioDefinition String
  status StatusEnum @default(draft)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model SimulationScenarioUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  scenarioDefinition String
  status StatusEnum
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ThresholdProfileInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  thresholds String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ThresholdProfileUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  thresholds String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model Timestamps {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}
