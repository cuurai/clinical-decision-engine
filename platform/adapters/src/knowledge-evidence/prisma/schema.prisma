// Prisma schema for database models
// Generated by Adapter Generator v1.0.0
// Domain: knowledge-evidence
//
// ⚠️  DO NOT EDIT THIS FILE MANUALLY
// This file is auto-generated. Any manual changes will be overwritten.

generator client {
  provider = "prisma-client-js"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum StatusEnum {
  draft
  active
  deprecated
}
enum RuletypeEnum {
  alert
  recommendation
  calculation
  workflow
}
enum EquivalenceEnum {
  related-to
  equivalent
  wider
  narrower
  specializes
  generalizes
}
enum CitationtypeEnum {
  paper
  guideline
  trial
  systematic-review
  other
}
enum GradelevelEnum {
  high
  moderate
  low
  very-low
}
enum StrengthofrecommendationEnum {
  strong
  weak
  conditional
}
enum ModeltypeEnum {
  diagnostic
  prognostic
  treatment
  risk-assessment
  other
}
enum TesttypeEnum {
  unit
  integration
  validation
  performance
}
enum ItemtypeEnum {
  medication
  lab
  imaging
  procedure
  other
}
enum MetrictypeEnum {
  accuracy
  precision
  recall
  f1-score
  auc-roc
  other
}
enum QuestiontypeEnum {
  boolean
  choice
  date
  decimal
  integer
  string
  text
}

model CareProtocolTemplateInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  status StatusEnum @default(draft)
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model CareProtocolTemplateUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  status StatusEnum
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ClinicalGuidelineInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  title String
  description String
  organization String
  publicationDate DateTime
  effectiveDate DateTime
  version String
  url String
  category String
  keywords String[]
  content String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ClinicalGuidelineUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  title String
  description String
  effectiveDate DateTime
  version String
  url String
  category String
  keywords String[]
  content String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ClinicalRuleInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  ruleType RuletypeEnum
  condition String
  action String
  priority Int
  enabled Boolean @default(true)
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ClinicalRuleUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  condition String
  action String
  priority Int
  enabled Boolean
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ClinicalRuleVersion {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  clinicalRuleId String @db.Char(33) /// FK: References ClinicalRule
  version String
  condition String
  action String
  effectiveDate DateTime
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([clinicalRuleId])
  // Relationship: clinicalRuleId -> ClinicalRule
}

model CodeableConcept {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  coding String[]
  text String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model Coding {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  system String
  code String
  display String
  version String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ConceptMapInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  sourceSystem String
  targetSystem String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ConceptMapUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ConceptMapping {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  conceptMapId String @db.Char(33) /// FK: References ConceptMap
  sourceCode String
  targetCode String
  equivalence EquivalenceEnum
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([conceptMapId])
  // Relationship: conceptMapId -> ConceptMap
}

model Error {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  error String
  message String
  details String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model EvidenceCitationInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  citationType CitationtypeEnum
  title String
  authors String[]
  publicationDate DateTime
  journal String
  url String
  doi String
  pmid String @db.Uuid
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model EvidenceCitationUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  title String
  authors String[]
  publicationDate DateTime
  journal String
  url String
  doi String
  pmid String @db.Uuid
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model EvidenceReviewInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  evidenceCitationId String @db.Char(33) /// FK: References EvidenceCitation
  gradeLevel GradelevelEnum
  strengthOfRecommendation StrengthofrecommendationEnum
  notes String
  reviewedBy String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([evidenceCitationId])
  // Relationship: evidenceCitationId -> EvidenceCitation
}

model EvidenceReviewUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  gradeLevel GradelevelEnum
  strengthOfRecommendation StrengthofrecommendationEnum
  notes String
  reviewedBy String
  reviewDate DateTime
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model FeatureDefinition {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  modelVersionId String @db.Char(33) /// FK: References ModelVersion
  name String
  dataType String
  required Boolean
  description String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelVersionId])
  // Relationship: modelVersionId -> ModelVersion
}

model GuidelineSection {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  guidelineId String @db.Char(33)
  title String
  order Int
  content String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([guidelineId])
}

model KnowledgePackageInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  useCase String
  status StatusEnum @default(draft)
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model KnowledgePackageUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  useCase String
  status StatusEnum
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ModelDefinitionInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  modelType ModeltypeEnum
  algorithm String
  framework String
  currentVersion String
  status StatusEnum @default(draft)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ModelDefinitionUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  currentVersion String
  status StatusEnum
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model ModelTest {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  modelVersionId String @db.Char(33) /// FK: References ModelVersion
  testType TesttypeEnum
  testData String
  results String
  passed Boolean
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelVersionId])
  // Relationship: modelVersionId -> ModelVersion
}

model ModelVersionInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  modelDefinitionId String @db.Char(33) /// FK: References ModelDefinition
  version String
  artifactUrl String
  performanceMetrics String
  trainingDate DateTime
  status StatusEnum @default(training)
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelDefinitionId])
  @@index([orgId, status])
  // Relationship: modelDefinitionId -> ModelDefinition
}

model ModelVersionUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  artifactUrl String
  performanceMetrics String
  status StatusEnum
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model OntologyTerm {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  code String
  display String
  system String
  parentId String @db.Char(33)
  level Int
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([parentId])
}

model OrderSetItem {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  orderSetTemplateId String @db.Char(33) /// FK: References OrderSetTemplate
  itemType ItemtypeEnum
  code String
  required Boolean
  default Boolean
  order Int
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orderSetTemplateId])
  // Relationship: orderSetTemplateId -> OrderSetTemplate
}

model OrderSetTemplateInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  status StatusEnum @default(draft)
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model OrderSetTemplateUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  status StatusEnum
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([status])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([orgId, status])
}

model PerformanceMetric {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  modelDefinitionId String @db.Char(33) /// FK: References ModelDefinition
  metricType MetrictypeEnum
  value Decimal
  date DateTime
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([modelDefinitionId])
  // Relationship: modelDefinitionId -> ModelDefinition
}

model ProtocolStep {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  careProtocolId String @db.Char(33)
  stepNumber Int
  title String
  description String
  order Int
  conditions String
  actions String[]
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([careProtocolId])
}

model QuestionnaireQuestion {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  questionnaireTemplateId String @db.Char(33) /// FK: References QuestionnaireTemplate
  questionText String
  questionType QuestiontypeEnum
  required Boolean
  order Int
  options String[]
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([questionnaireTemplateId])
  // Relationship: questionnaireTemplateId -> QuestionnaireTemplate
}

model QuestionnaireTemplateInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model QuestionnaireTemplateUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model RuleSetInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model RuleSetUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model RuleTest {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  clinicalRuleId String @db.Char(33) /// FK: References ClinicalRule
  name String
  testData String
  expectedResult String
  actualResult String
  passed Boolean
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([clinicalRuleId])
  // Relationship: clinicalRuleId -> ClinicalRule
}

model ScoringItem {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  scoringTemplateId String @db.Char(33) /// FK: References ScoringTemplate
  name String
  code String
  weight Decimal
  order Int
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([scoringTemplateId])
  // Relationship: scoringTemplateId -> ScoringTemplate
}

model ScoringTemplateInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  calculationFormula String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ScoringTemplateUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  calculationFormula String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model TermMapping {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  sourceTermId String @db.Char(33)
  targetTermId String @db.Char(33)
  targetSystem String
  equivalence EquivalenceEnum
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([sourceTermId])
  @@index([targetTermId])
}

model Timestamps {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ValueSetCode {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  valueSetId String @db.Char(33) /// FK: References ValueSet
  code String
  system String
  display String
  createdAt DateTime
  updatedAt DateTime
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
  @@index([valueSetId])
  // Relationship: valueSetId -> ValueSet
}

model ValueSetInput {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}

model ValueSetUpdate {
  id        String   @id @db.Char(33) /// Format: XX_<ULID>
  orgId     String   @map("org_id")
  name String
  description String
  category String
  version String
  metadata String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String? @map("created_by")
  updatedBy String? @map("updated_by")
  deletedAt DateTime? @map("deleted_at")
  deletedBy String? @map("deleted_by")
  @@index([orgId])
  @@index([createdAt])
  @@index([updatedAt])
  @@index([deletedAt])
}
